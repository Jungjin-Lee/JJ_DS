// Private
var players = new Array();
var container = new Array();

function makePlayer() {
    this.socket = null;
    this.remoteAddress = null;
    this.remotePort = null;
    this.id = null;
    this.name = null;
}

// Public
module.exports = {
    Logging: true,

    getPlayerCnt: function () {
        return players.length;
    },

    make: function() {
        var player = this.popContainer();
        if(player == null) {
            player = new makePlayer();
        }
        this.push(player);
        return player;
    },

    push: function(player) {
        players.push(player);
    },

    getPlayerAtSock: function(sock) {
        var len = players.length;
        for(var i = 0; i < len; i++) {
            var player = players[i];
            if(player.remoteAddress == sock.remoteAddress && player.remotePort == sock.remotePort) {
                player.index = i;
                return player;
            }
        }
        return null;
    },

    remove: function(index, player) {
        players.splice(index, 1);
        this.pushContainer(player);
    },

    pushContainer: function(player) {
        container.push(player);
    },

    popContainer: function() {
        return container.length > 0 ? container.pop() : null;
    },

    clear: function(player) {
        player.socket = null;
        console.log("clear");
    }
}
